# Web 前端界面使用指南

## 📱 界面简介

这是一个现代化的 Web 前端界面，为日常办公超级智能体系统提供友好的用户交互体验。

## ✨ 功能特性

### 1. 智能对话
- 💬 类似聊天窗口的交互方式
- 🎨 美观的消息气泡设计
- ⏱️ 实时显示时间戳
- 📝 支持多行文本输入

### 2. 智能体管理
- 👥 显示所有可用智能体
- ✅ 实时状态指示
- 🎯 智能体图标识别
- 📊 智能体分类显示

### 3. 系统监控
- 🔌 连接状态实时显示
- 📈 记忆系统统计
- 💾 向量数据库统计
- 🔄 自动定期更新

### 4. 快捷操作
- ⚡ 常用任务快捷按钮
- 📧 邮件整理
- 📊 数据分析
- 📅 日程查看
- 📁 文件整理

### 5. 任务分析
- 🧠 显示任务理解详情
- 🏷️ 任务类型标识
- 🤖 智能体选择展示
- 📋 子任务数量统计

## 🚀 快速开始

### 1. 启动后端服务

首先确保后端 API 服务正在运行：

```bash
# 方式1: 直接运行
python src/api/main.py

# 方式2: 使用 uvicorn
uvicorn src.api.main:app --host 0.0.0.0 --port 8000 --reload
```

服务启动后，您会看到：
```
🚀 启动API服务: http://0.0.0.0:8000
📖 API文档: http://0.0.0.0:8000/docs
```

### 2. 访问 Web 界面

打开浏览器，访问以下任一地址：

- **主界面**: http://localhost:8000
- **静态文件**: http://localhost:8000/static/index.html
- **API 文档**: http://localhost:8000/docs

### 3. 开始使用

1. **检查连接状态**
   - 右上角显示 "已连接" 表示后端正常
   - 绿色圆点表示服务在线

2. **查看可用智能体**
   - 左侧栏显示所有可用的智能体
   - 带绿色勾号表示智能体已就绪

3. **发送任务**
   - 在底部输入框输入您的需求
   - 点击发送按钮或按 Enter 键
   - AI 会自动分析并处理您的请求

4. **使用快捷操作**
   - 点击左侧的快捷按钮
   - 快速执行常用任务

## 💡 使用示例

### 示例 1: 邮件管理
```
输入: 帮我整理今天的邮件，重要邮件优先回复
```
AI 会：
- 自动选择邮件智能体
- 分类邮件（重要、一般、垃圾）
- 提供回复建议

### 示例 2: 数据分析
```
输入: 分析本月销售数据，生成可视化报告
```
AI 会：
- 使用数据分析智能体
- 加载和处理数据
- 生成图表和报告

### 示例 3: 文件整理
```
输入: 整理我的下载文件夹，删除重复文件
```
AI 会：
- 调用文件管理智能体
- 扫描和分类文件
- 检测并处理重复文件

### 示例 4: 日程管理
```
输入: 查看本周的会议安排，检查是否有冲突
```
AI 会：
- 使用日程智能体
- 查询日程数据
- 检测时间冲突

## 🎨 界面说明

### 顶部导航栏
- **Logo**: 项目标识
- **标题**: 日常办公超级智能体
- **状态指示器**: 显示连接状态

### 左侧边栏

#### 可用智能体
显示所有已配置的智能体：
- 📧 邮件智能体
- 📄 文档智能体
- 📅 日程智能体
- 📊 数据分析智能体
- 💡 知识问答智能体
- 📁 文件管理智能体

#### 系统状态
显示系统运行状态：
- **记忆总数**: 系统中存储的记忆数量
- **向量数据**: 向量数据库中的文档数量

#### 快捷操作
常用任务的快捷按钮：
- 整理邮件
- 数据分析
- 查看日程
- 整理文件

### 主聊天区域

#### 聊天窗口
- **欢迎消息**: 首次打开时显示功能介绍
- **用户消息**: 蓝色气泡，右对齐
- **AI 回复**: 灰色气泡，左对齐
- **任务详情**: 显示任务分析信息
- **时间戳**: 每条消息的发送时间

#### 输入区域
- **文本框**: 支持多行输入
- **发送按钮**: 蓝色按钮，带图标
- **提示信息**: 快捷键说明

### 底部页脚
显示系统信息：
- 隐私保护说明
- 技术栈信息

## ⌨️ 键盘快捷键

- **Enter**: 发送消息
- **Shift + Enter**: 换行
- **ESC**: （未来）关闭对话框

## 🎯 高级功能

### 任务分析展示
当 AI 处理任务时，会显示：
- 🏷️ **任务类型**: 自动识别的任务类别
- 🤖 **智能体**: 选择的处理智能体
- 📋 **子任务**: 分解的子任务数量

### 自动状态更新
系统每 30 秒自动：
- 检查连接状态
- 更新系统统计
- 刷新智能体列表

### 历史记录
所有对话自动保存在浏览器中，刷新页面后：
- ⚠️ 历史记录会丢失
- 💡 建议使用 "导出聊天" 功能保存重要对话

## 🛠️ 自定义配置

### 修改 API 地址

如果后端运行在不同的地址，修改 `app.js`：

```javascript
// 修改这一行
const API_BASE_URL = 'http://localhost:8000';

// 改为您的后端地址
const API_BASE_URL = 'http://your-server:8000';
```

### 修改主题颜色

编辑 `styles.css` 中的 CSS 变量：

```css
:root {
    --primary-color: #4a90e2;      /* 主色调 */
    --secondary-color: #50c878;    /* 次要颜色 */
    --background: #f5f7fa;         /* 背景色 */
    /* ... */
}
```

### 添加新的快捷操作

在 `index.html` 中添加按钮：

```html
<button class="quick-btn" onclick="sendQuickTask('你的任务')">
    <i class="fas fa-icon"></i> 按钮文字
</button>
```

## 🔧 故障排查

### 问题 1: 显示 "未连接"

**原因**: 后端服务未启动或地址错误

**解决**:
1. 检查后端是否运行: `http://localhost:8000/health`
2. 查看浏览器控制台错误信息
3. 确认 API_BASE_URL 配置正确

### 问题 2: 发送消息后无响应

**原因**: 后端处理错误或超时

**解决**:
1. 查看浏览器控制台错误
2. 检查后端日志
3. 确认 Ollama 服务运行正常

### 问题 3: 智能体列表显示 "加载失败"

**原因**: API 端点错误或权限问题

**解决**:
1. 访问 http://localhost:8000/api/agents 测试
2. 检查 CORS 配置
3. 查看后端日志

### 问题 4: 样式显示异常

**原因**: CSS 文件未正确加载

**解决**:
1. 检查文件路径
2. 清除浏览器缓存（Ctrl + F5）
3. 确认静态文件路由配置正确

## 📊 性能优化

### 1. 减少请求频率
默认每 30 秒更新一次状态，可根据需要调整：

```javascript
// 修改 app.js 中的定时器间隔
setInterval(() => {
    checkConnection();
    loadSystemStats();
}, 60000);  // 改为 60 秒
```

### 2. 启用浏览器缓存
为静态资源添加缓存头（在后端配置）

### 3. 压缩资源
生产环境建议：
- 压缩 CSS 和 JavaScript
- 使用 CDN 加载字体图标
- 优化图片资源

## 🔒 安全建议

### 生产环境配置

1. **限制 CORS**
```python
# src/api/main.py
app.add_middleware(
    CORSMiddleware,
    allow_origins=["https://yourdomain.com"],  # 指定域名
    allow_credentials=True,
    allow_methods=["POST", "GET"],
    allow_headers=["*"],
)
```

2. **添加认证**
- 实现用户登录
- 使用 JWT Token
- 限制 API 访问频率

3. **HTTPS 部署**
- 使用 SSL 证书
- 强制 HTTPS 连接

## 📱 响应式设计

界面支持多种设备：

- 🖥️ **桌面端**: 完整双栏布局
- 💻 **笔记本**: 自适应布局
- 📱 **平板**: 单栏布局
- 📱 **手机**: 优化的移动布局

## 🎓 技术栈

- **HTML5**: 语义化标签
- **CSS3**: 现代样式和动画
- **JavaScript (ES6+)**: 原生 JavaScript
- **Fetch API**: HTTP 请求
- **Font Awesome**: 图标库

## 📚 相关文档

- [API 文档](http://localhost:8000/docs) - FastAPI 自动生成
- [项目主文档](../README.md)
- [系统架构](../ARCHITECTURE.md)
- [快速开始](../QUICKSTART.md)

## 🆘 获取帮助

如有问题，请：
1. 查看浏览器控制台日志
2. 检查后端服务日志
3. 参考故障排查章节
4. 提交 Issue

## 📝 更新日志

### v0.2.1 (2025-10-17)
- ✨ 初始版本发布
- 🎨 现代化 UI 设计
- 💬 智能对话界面
- 📊 系统状态监控
- ⚡ 快捷操作支持

---

**提示**: 这是一个纯前端应用，所有数据处理都在后端完成，前端仅负责展示和交互。

**享受使用吧！** 🎉
